
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
	ul {
		width: 606px;
		height: 606px;	
		list-style: none;
		text-align: center;
		line-height: 200px;
	}
	li {
		width: 200px;
		height: 200px;
		border: 1px solid black
	}
	.gift {
		float: left;
	}
</style>
</head>
 
<body>
<!-- <div>
<div class="gift gift1">1</div>
<div class="gift gift2">2</div>
<div class="gift gift3">3</div>
</div>
<div>
<div class="gift gift0">8</div>
<div style="display:inline-table;"><button style="width:100px; height:100px;">ooo</button></div>
<div class="gift gift4">4</div>
</div>
<div>
<div class="gift gift7">7</div>
<div class="gift gift6">6</div>
<div class="gift gift5">5</div>
</div> -->
<ul>
	<li class="gift gift1">1</li>
	<li class="gift gift2">2</li>
	<li class="gift gift3">3</li>
	<li class="gift gift0">8</li>
	<li class="gift"><button style="width:200px; height:200px;">开始</button></li>
	<li class="gift gift4">4</li>
	<li class="gift gift7">7</li>
	<li class="gift gift6">6</li>
	<li class="gift gift5">5</li>
</ul>
<!-- <span style="color:#ff0000;"></span> -->
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
$(function() {
	var stopStep=1;//表示最终奖品位置
	var runT=null;//转动方法
	var step=-1;//计算转动的步数，控制转速和停止
	var during=10;//转速
	$("button").click(function(e){
        stopStep=Math.floor(Math.random()*8+1);
	    runT=setTimeout(runF,100);
	});
	function runF(){
		if(step>=(32+stopStep))//设置转动多少圈
		{
			$(".gift"+(step%8)).css("background-color","#F00");
			step=stopStep;
			alert(`恭喜你获得${step%8}的礼品`);
			clearTimeout(runT);//停止转动
			return;
		}
		if(step>=(24+stopStep)){ //在即将结束转动前减速
                  during+=1;               
              }else{ 
                  if(during<=2){ //控制中间转速
                      during=2; 
                  } 
                  during--; 
              }           
		step++;
		$(".gift").each(function(index, element) {
            $(this).css("background-color","#FFF");
        });
		$(".gift"+(step%8)).css("background-color","#F00");
		runT=setTimeout(runF,during*50);
	}
});
</script>
</body>
</html>